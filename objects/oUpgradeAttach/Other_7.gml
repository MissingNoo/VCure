if (upg[$ "animation_end"] != undefined) {
    upg[$ "animation_end"](self.id);
}